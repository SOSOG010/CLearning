C有许多运算符，但所有的语句却相对较少。有表达式语句，还有选择语句if，switch；循环语句while，for，do……while；以及跳转语句break，continue，goto，return。

# 1. 选择（分支）语句

### 1.1 逻辑表达式——分支语句的前提

关系运算符：大于(>)、大于等于(>=)、小于(<)、小于等于(<=)

关系运算符优先级低于算术运算符，即 i + j < k - 1意思为(i + j) < (k - 1)。

i < j < k是合法的，但并不是判断j是否介于i和k之间（正确的表达式应该是i<j && j<k），因为关系运算符是左结合的，表达式首先检测i是否小于j，然后用比较后产生的结果（1或0）来和k比较。

判等运算符：等于(==)、不等于(!=)

逻辑运算符：逻辑与（&&）、逻辑或（||）、逻辑非（！）

逻辑与和或都对操作数进行“短路计算”。注意：由于短路计算特性的存在，可能会使得运算符后面的表达式的副作用失效。最好是单独实现副作用，不要放在逻辑表达式中。

逻辑非优先级与正负号仙童，逻辑与和或优先级低于关系运算符和判等运算符。

### 1.2 if语句和else子句

布局问题：

- 如果内部语句很短，可以把语句和if、else放在同一行。

- 尽量为语句增加花括号（即使有时不是必须的）就像在表达式中使用圆括号一样，都可以使程序更加易读，同时避免一些隐含的编译错误。

- 级联式if语句：

```c
if(表达式)
    语句
else if(表达式)
    语句
else if(表达式)
   	语句
else
    语句
```

- 注意“悬空else”问题——即if语句和else语句的匹配问题。C语言遵循的规则是else子句应该属于离它最近的且未和其他else匹配的if语句。

### 1.3 复合语句

其实就是语句块，用花括号{ }括起来多条语句。

### 1.4 条件表达式

C语言中唯一的三元运算符——条件运算符（conditional operator）：允许表达式依据条件的值产生两个值中的一个。

【条件表达式】      表达式1  ？  表达式2  ：  表达式3

表达式1的值为1——整个表达式的值==表达式2的值

表达式1的值为0——整个表达式的值==表达式3的值

i > j  ？  i  :  j  ——表达式的值为i，j中最大值

条件表达式使程序简短，但是增加了阅读的困难，一般用在return后、printf中或某些类型的宏定义中。其他地方尽量不要使用。

### 1.5 C89和C99中的布尔值

C89中没有定义布尔类型。一般使用如下方法

```c
#define TRUE 1
#define FALSE 0
//方法一，使用宏定义法定义类型的宏
#define BOOL int 

//方法二,使用类型定义法
typedef int BOOL;

//方法三，使用枚举和类型定义法
typedef enum{FALSE,TRUE} BOOL;

BOOL flag = FALSE或TRUE;
```

C99中提供了_Bool类型，布尔变量可声明为\_Bool flag;

除了_Bool类型的定义，C99还提供了一个新的头<stdbool.h>，提供了bool宏，用来代表\_Bool，以及true和false两个宏，分别代表1和0。



## 1.6 switch语句

功能：把表达式和一系列值比较，从中找出匹配的值。

格式：

```c
switch(表达式){
	case 常量表达式 : 语句1、2……n
					break；
	...
	case 常量表达式 : 语句1、2……n
					break;
	default : 语句1、2……n
			  break；
}
```

- **控制表达式**：必须是整型表达式。由于C语言把字符当成整数处理，因此可以对字符进行判定。但不能用浮点数和字符串。

- **分支标号**：每个分支的开头都有一个标号，格式如下：

  - case   常量表达式   :

    常量表达式不能包含变量和函数调用。且必须是整数（字符也可）。

  - case后面只能跟一个常量表达式，如果出现多个case匹配一种情况，这时候可以把多个case分支标号放在同一组语句前，如下：

    ```c
    case 1:
    case 2:
    case 3:
    case 4:		printf("good!");
    			break;
    //为了节省空间也可以写成如下形式
    case 1: case 2: case 3: case 4:
    		printf("good!");
    		break;
    ```

    

- **语句**：每个分支标号的后面可以跟任意数量的语句。且不需要用花括号括起来，每组语句的最后一条通常是break语句。

default分支不一定要有，如果没有default，而且控制表达式的值和任何一个分支标号都不匹配，控制会直接传给switch语句后面的语句。

break语句的作用

当执行完某个匹配的分支标号的语句后跳出switch语句。如果没有break，程序会接着执行后面的分支标号中的语句，直到最后一个分支标号。虽然最后一个分支标号语句结束不用写break，但最好还是加上。

> 注意：switch分支标号不能表示范围。只能表示值。





## 编程题

1、从用户输入的4个整数中找出最大值和最小值。

```c
#include<stdio.h>
int main(){
    int a[4]={0},i,max,min;
    for(i=0;i<4;i++)
        scanf("%d",&a[i]);
    max = min = a[0];
    for(i=1;i<4;i++){
        if(a[i]>max)
            max = a[i];
    	if(a[i]<min)
            min = a[i];
    }
    printf("Largest: %d\nSmallest: %d\n",max,min);
    return 0;
}
```

2、将24小时制的时间改为12小时制格式并显示。

input : Enter a 24-hour time : 21:11

output : Equivalent 12-hour time : 9:11 PM

```c

```



3、下面的表格给出了一个城市到另一个城市的每日航班信息。

| 起飞时间   | 抵达时间   |
| ---------- | ---------- |
| 8:00 a.m.  | 10:16 a.m. |
| 9.43 a.m.  | 11:52 a.m. |
| 11:19 a.m. | 1:31 p.m.  |
| 12:47 p.m. | 3:00 p.m.  |
| 2:00 p.m.  | 4:08 p.m.  |
| 3:45 p.m.  | 5:55 p.m.  |
| 7:00 p.m.  | 9:20 p.m.  |
| 9:45 p.m.  | 11:58 p.m. |

用户输入一个时间（24小时制表示）。程序选择起飞时间与用户输入最接近的航班，显示出相应的起飞时间和抵达时间。

Enter a 24-hour time：13:15

Closest depature time is 12:47 p.m.，arriving at 3:00 p.m.

```c

```





3、用户输入两个日期，显示哪一个日期更早。

Enter first date (mm/dd/yy) : 3/6/08

Enter second date (mm/dd/yy) : 5/17/07

5/17/07 is earlier than 3/6/08

```c

```



4、利用switch语句编写一个程序，把用数字表示的成绩转化为字母表示的等级。

等级评定规则：A为90\~100，B为80\~89，C为70\~79，D为60\~69，F为0\~59。如果高于100或低于0显示出错。

```

```



5、输入一个两位数，显示该数的英文单词。

Enter a two-digit number : 45

You entered the number forty-five.

```

```





# 2. 循环语句

## 2.1 while语句

数列求和（输入0来终止）

```c
#include<stdio.h>
int main(){
	int sum = 0,n;
	scanf("%d",&n);
	while(n){
		sum += n;
		scanf("%d",&n);
	}
	printf("The sum is : %d\n",sum);
	return 0;
}
```

> ①scanf函数最好在sum += n的后面，这样可以在数被读入后立即判断，尽快终止循环。
>
> ②scanf函数用到了两次，这是while循环不可避免的。因为是先判断条件再执行循环体。（这一点do……while可以解决，但很可能会导致错误的输出，不要这样用）

## 2.2 do……while循环

计算整数的位数

```c
#include<stdio.h>
int main(){
	int digits = 0,n;
	scanf("%d",&n);
	do{
		n /= 10;
		digits++;
	}while(n>0);		//注意do……while的while后要有分号。
	printf("The number has %d digit(s)\n",digits);
	return 0;
}
```

> 注意：如果将do……while改为while那么n=0时循环根本不会执行，程序会判断数字0的位数为0，输出错误结果。

## 2.3 for循环

惯用法：

- 从0递增到n-1：for( i = 0; i < n; i++)
- 从1递增到n：for( i = 1; i <= n; i++)
- 从n-1递减到0：for( i = n-1; i >= 0; i--)
- 从n递减到1：for( i = n; i > 0; i--)

for语句中省略表达式

> 可以省略第一个和第三个表达式，第二个不能省略。且省略第一个时后面的分号不能省，第三个时前面的分号不能省！也就是说即使省略掉某些表达式，控制表达式也必须始终有两个分号！！
>
> 当同时省略第一个和第三个表达式后，它和while语句没有任何分别。
>
> for（； i > 0；）  等价于  while（i > 0）

## 2.4 C99中的for语句

在C99中，for语句的第一个表达式可以替换为一个或多个声明，例如：for（int i=0；i < n；i++），变量i不需要在该语句前声明。事实上，**即使变量i在之前声明了，这个语句也会创建一个新的i且该值仅作用于循环内，在循环外不可见！**

C语言对控制循环行为的三个表达式没有加任何限制。虽然这些表达式通常对同一个变量进行初始化、判定和更新。但没有要求它们之间以任何方式进行相互关联。也就是说不用都是对同一个变量i的限定。例如，求连续1~n的平方值有下面两种方式：

```c
//使用乘法
for(int i=1; i<=n; i++){
	printf("%d",i*i);
}
//不使用乘法
for(int i=1,odd=3,square=1; i <= n; odd += 2){
	printf("%d",square);
	++i;
	square += odd;
}

```

for语句的这种极大的灵活性有时是十分有用的，比如在处理链表时。

## 2.5 退出循环

**（1）break语句**——break语句只能跳出一层循环！

（2）continue语句——跳过当前循环执行下一次循环，并不跳出循环！

> continue语句可以用于在循环体中排除一些特殊情况。

区别：

- break语句使程序控制跳出循环，continue语句把程序控制留在循环内。

- break语句可用于switch语句和循环，而continue只能用于循环。

## 2.6 goto语句

现在很少用了，break、continue、return和exit函数足够。

## 2.7 空语句

不小心在if、while或for语句的圆括号后放置分号会创建空语句，造成循环语句提前结束！

## 2.8 编程题

1、找出用户输入的一串数中的最大数（有小数有整数）。当用户输入0或负数时，程序必须显示出已输入的最大非负数。

```

```

2、输入两个整数，输出最大公约数（GCD）和最小公倍数（LCM）

```

```

3、用户输入一个分数，将其约分为最简分式。

```

```

4、输入n，显示1~n的所有偶数平方值。

```

```

5、显示单月的日历。用户指定这个月的天数和该月起始日是星期几：

```

```

6、近似计算e的值。e = 1+1/1!+1/2!+1/3!+……+1/n!

```

```

